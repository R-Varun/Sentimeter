
<!DOCTYPE html>
<html>
<head>
    <title>Conversation Analysis</title>
    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import jQuery before materialize.js-->
    <script type="text/javascript"            src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/css/materialize.min.css">
    <link type="text/css" rel="stylesheet" href="/css/main.css" />
    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>

    <script type = "text/javascript">
        function reset() {
            document.location.href = 'input.html'
        }

        function goToHomePage() {
            document.location.href = '/'
        }

        function displaySpeaker1PieChart() {
            document.getElementById("barChartHolder").innerHTML = '<img height="300" width="400" src="https://i.imgur.com/jL0B5vD.png" alt="Pie Chart">';
        }


        function displaySpeaker2PieChart() {
            document.getElementById("barChartHolder").innerHTML = '<img height="300" width="400" src="https://i.imgur.com/iIbmdYv.png" alt="Pie Chart">';
        }

        function exportToExcel(csv, filename) {
            var csvFile;
            var downloadLink;

            // CSV file
            csvFile = new Blob([csv], {type: "text/csv"});

            // Download link
            downloadLink = document.createElement("a");

            // File name
            downloadLink.download = filename;

            // Create a link to the file
            downloadLink.href = window.URL.createObjectURL(csvFile);

            // Hide download link
            downloadLink.style.display = "none";

            // Add the link to DOM
            document.body.appendChild(downloadLink);

            // Click download link
            downloadLink.click();
        }
    </script>

    <!--Let browser know website is optimized for mobile-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
</head>
<header>
        <div class="navbar-fixed" "color:aquamarine">
            <nav class="white accent-1">
                <div class="nav-wrapper">
                        <input type="image" id="myimage" onclick = "goToHomePage()" src="https://cdn.dribbble.com/users/45642/screenshots/1231766/sentimeter_1x.png" style = "height:64px" />
                </div>
            </nav>
        </div>
    </header>
<body class="grey lighten-3">

        <div class="section">
            <div class="container">
                <div class="step-1 card">
                  <div class="card-content">
                <div class="row">
                    <div class = "col s12">
                        <h1 class="black-text center " >Results</h1>
                      </div>
                    <div class="col s12">
                        <h2 class = "black-text center">Conversation</h1>
                    </div>
                    <div class="col s6">
                          <table class="bordered" class="striped">
                            <thead>
                              <tr>
                                <th>Topics Discussed</th>
                              </tr>
                              <tbody>
                                <tr><td>Immigration</td></tr>
                                <tr><td>Gun Control</td></tr>
                                <tr><td>War on Terror</td></tr>
                                <tr><td>Trade</td></tr>
                                <tr><td>Abortion</td></tr>
                            </tbody>
                          </table>
                    </div>
                    <div class="col s6">
                      <table>
                        <thead>
                          <tr>
                            <th>Summary</th>
                          </tr>
                          <tbody>
                            <tr><td ><div id = "summaryText" style = "overflow:scroll; height:400px">It was a nasty affair. Challenged to defend his recently uncovered hot mic remarks. Clinton did not respond to Trump's catalog. Clinton placed Trump's hot mic remarks in context. Trump projected intense hostility for Clinton. Twice Clinton said that Russia was seeking to influence. Trump said he disagreed with running mate. Trump also said there's no Muslim ban plan any more, despite his call for one in December 2015. A few times, Trump seemed to shock Clinton. Trump staged a media event before the debate. Clinton was asked about a line from a WikiLeaks version. </div></td></tr>
                        </tbody>
                      </table>
                    </div>

                    <div class="col s12">
                        <h2 class = "black-text center">By Speaker</h1>
                    </div>
                    <div class="col s6">
                          <table class="bordered" class="striped">
                            <thead>
                              <tr>
                                <th>Select Speaker</th>
                              </tr>
                              <tbody>
                                <tr><td><button onclick = "displaySpeaker1PieChart()" id = "speaker1Button" type="button">Speaker 1</button></td></tr>
                                <tr><td><button onclick = "displaySpeaker2PieChart()" id = "speaker2Button" type="button">Speaker 2</button></td></tr>
                            </tbody>
                          </table>
                    </div>
                    <div class="col s6">
                      <table>
                        <thead>
                          <tr>
                            <th>Speaker Sentiment</th>
                          </tr>
                          <tbody>
                            <tr><td>
                                <div id = "barChartHolder">
                                    <img height = "300px" width = "400px" src="https://i.imgur.com/jL0B5vD.png" alt="Pie Chart">
                            </div>
                                </td></tr>
                        </tbody>
                      </table>
                    </div>

            </div>
        </div>
    </div>
        </div>
    </div>

    <div align = "center" style = "margin-top: 100px">
    <button type="button" class= "waves-light grey btn-large"  id = "resetButton" onclick="reset()">Reset</button>
    <button type="button" class= "waves-light grey btn-large" id = "exportButton" onclick="exportToExcel('Topics,Immigration,Gun Control,War on Terror,Trade, Abortion\nSummary,It was a nasty affair. Challenged to defend his recently uncovered hot mic remarks. Clinton did not respond to Trumps catalog. Clinton placed Trumps hot mic remarks in context. Trump projected intense hostility for Clinton. Twice Clinton said that Russia was seeking to influence. Trump said he disagreed with running mate. Trump also said there is no Muslim ban plan any more. Despite his call for one in December 2015. A few times. Trump seemed to shock Clinton. Trump staged a media event before the debate. Clinton was asked about a line from a WikiLeaks version.\nSpeaker1,Neutral: 23,Positive: 21,Negative: 56\nSpeaker2,Neutral: 47,Positive: 30,Negative: 23', 'analysis.csv')">Export to Excel</button>

    </div>


    <footer>
        <div class="footer-copyright">
            <div class="container">
                <a class="grey-text text-lighten-4 right" href="#!">Link</a>
            </div>
        </div>
    </footer>
</body>
</html>
